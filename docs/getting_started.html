

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    
    <title>Setting up an optimization engine &#8212; IBM&reg; Decision Optimization CPLEX&reg; Modeling for Python (DOcplex) V2.4 documentation</title>
    
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'V2.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">IBM&reg; Decision Optimization CPLEX&reg; Modeling for Python (DOcplex) V2.4 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Setting up an optimization engine</a><ul>
<li><a class="reference internal" href="#get-ibmreg-optimizers">Get IBM&reg; optimizers</a></li>
<li><a class="reference internal" href="#engine-setup">Engine setup</a><ul>
<li><a class="reference internal" href="#using-the-ibm-decision-optimization-on-cloud-service">Using the  IBM Decision Optimization on Cloud service</a></li>
<li><a class="reference internal" href="#using-ibm-ilog-cplex-optimization-studio-v12-x-on-your-computer">Using IBM ILOG CPLEX Optimization Studio V12.x on your computer</a><ul>
<li><a class="reference internal" href="#more-information-about-the-docplexcloud-solver-service-and-cplex-engines">More information about the DOcplexcloud solver service and CPLEX engines</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="setting-up-an-optimization-engine">
<h1>Setting up an optimization engine<a class="headerlink" href="#setting-up-an-optimization-engine" title="Permalink to this headline">&para;</a></h1>
<div class="section" id="get-ibmreg-optimizers">
<h2>Get IBM&reg; optimizers<a class="headerlink" href="#get-ibmreg-optimizers" title="Permalink to this headline">&para;</a></h2>
<ul class="simple">
<li>Mathematical programming (MP) and Constraint programming (CP) models can be
solved either with CPLEX&reg; on the Cloud (DOcplexcloud) or with a local
CPLEX installation (CPLEX Optimization Studio V12.7.1 or V12.8.0).</li>
<li>You can get the solving capability you need here:<ul>
<li>An <strong>IBM Decision Optimization on Cloud</strong> Service account and API key. You can
register for a 30-day free trial or buy a subscription
<a class="reference external" href="https://developer.ibm.com/docloud/try-docloud-free">here</a>.</li>
<li><b>IBM ILOG&reg; CPLEX Optimization Studio</b> Development or Deployment edition for solving with no engine limit or
the Community Edition with engine limits. You can download the full CPLEX Community Edition
<a class="reference external" href="http://www-01.ibm.com/software/websphere/products/optimization/cplex-studio-community-edition">here</a> or
you can download and install it from AnacondaCloud <a class="reference external" href="https://anaconda.org/IBMDecisionOptimization/cplex">here</a>.</li>
<li><strong>IBM Academic Initiative</strong> for faculty members, research professionals: IBM Academic Initiative (AI) is a global program that faculty members,
research professionals at accredited institutions, and qualifying members of standards organizations can join.  Members can get <strong>full versions</strong> of a
large selection of IBM software, including CPLEX at no charge. More information about IBM ILOG Optimization products in the IBM Academic Initiative can
be found <a class="reference external" href="https://developer.ibm.com/academic/">here</a>.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="engine-setup">
<h2>Engine setup<a class="headerlink" href="#engine-setup" title="Permalink to this headline">&para;</a></h2>
<p>Before you run the examples, you need to set up an optimization engine. The
examples are written so that they use the IBM ILOG CPLEX Optimization Studio on your computer if the product
is installed or will solve on the IBM Decision Optimization on Cloud service if CPLEX is not found.</p>
<div class="section" id="using-the-ibm-decision-optimization-on-cloud-service">
<h3>Using the  IBM Decision Optimization on Cloud service<a class="headerlink" href="#using-the-ibm-decision-optimization-on-cloud-service" title="Permalink to this headline">&para;</a></h3>
<p>To use the CPLEX or CP Optimizer algorithms on the cloud (<a class="reference external" href="https://developer.ibm.com/docloud">DOcplexcloud</a>), you will need to get 2 things:</p>
<blockquote>
<div><ul class="simple">
<li>the URL of the service to be called</li>
<li>the API key that corresponds to your personal account on this web service.</li>
</ul>
</div></blockquote>
<p>The API key will identify you on the IBM cloud and will also determine your computation rights.
For example, a trial key will enable you to run 1 model at a time and queue a maximum of 5 jobs for a duration of 1 month.
A paid subscription with bare metal will enable you to run multiple jobs in parallel.
This key will also determine the type of CPU and RAM you can access, for example.
You can generate multiple keys.</p>
<p>You can setup your credentials directly in your Python code using the <code class="docutils literal"><span class="pre">context</span></code>  object as illustrated in some of the examples.
This is especially useful if you use the cloud based IPython notebooks.</p>
<p>You can also place your credentials in a Python file: docplex will look for some predefined files.
Indeed, DOcplex can search the <code class="docutils literal"><span class="pre">PYTHONPATH</span></code> for the following files in this specific order:</p>
<blockquote>
<div><ul>
<li><p class="first">For a MP model:</p>
<blockquote>
<div><ul class="simple">
<li>cplex_config.py</li>
<li>cplex_config_&lt;hostname&gt;.py</li>
<li>docloud_config.py (must only contain context.solver.docloud configuration)</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">For a CP model:</p>
<blockquote>
<div><ul class="simple">
<li>cpo_config.py (depending on your modeling module)</li>
<li>cpo_config_&lt;hostname&gt;.py (depending on your modeling module)</li>
<li>docloud_config.py (must only contain context.solver.docloud configuration)</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>The <code class="docutils literal"><span class="pre">docloud_config.py</span></code> configuration file is shared between both modeling capabilities and must contain only common properties,
while the other configuration files can contain specific properties such as engine parameters.</p>
<p>The following steps will guide you in getting the 2 strings you need and telling docplex to use them.</p>
<ol class="arabic">
<li><p class="first">Register for a trial account.</p>
<blockquote>
<div><p>Register for the DOcplexcloud free trial and use it free for 30 days. See
<a class="reference external" href="https://developer.ibm.com/docloud/try-docloud-free">Free trial</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Get your API key.</p>
<blockquote>
<div><p>With your free trial, you can generate a key to access the DOcplexcloud API.
Go to the
<a class="reference external" href="http://developer.ibm.com/docloud/docs/api-key/">Get API key &amp; base URL</a>
page to generate the key after you register. This page also contains
the base URL you must use for DOcplexcloud.</p>
</div></blockquote>
</li>
<li><p class="first">The examples rely the specification of the API key either in the sample
<code class="docutils literal"><span class="pre">.py</span></code> file or in a configuration file in your <code class="docutils literal"><span class="pre">PYTHONPATH</span></code>.</p>
<p>The options are detailed below:</p>
<ol class="loweralpha">
<li><p class="first">Create a <code class="docutils literal"><span class="pre">docloud_config.py</span></code> file in any directory in your <code class="docutils literal"><span class="pre">PYTHONPATH</span></code>.
For instance, you can create <code class="docutils literal"><span class="pre">examples/docloud_config.py</span></code> and add the
<code class="docutils literal"><span class="pre">examples</span></code> directory to your <code class="docutils literal"><span class="pre">PYTHONPATH</span></code>.
The <code class="docutils literal"><span class="pre">docloud_config.py</span></code> is a Python file containing code to configure
the context used to solve problems:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">context</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">docloud</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">YOUR_DOCLOUD_URL</span>
<span class="n">context</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">docloud</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">YOUR_API_KEY_HERE</span>
</pre></div>
</div>
</li>
<li><p class="first">Edit each example <code class="docutils literal"><span class="pre">.py</span></code> file. Look for:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="sd">&quot;&quot;&quot;DOcplexcloud credentials can be specified with url and api_key.</span>

<span class="sd">...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;YOUR_DOCLOUD_URL&quot;</span>
    <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;YOUR_API_KEY_HERE&quot;</span>
</pre></div>
</div>
<p>Edit your url and key.</p>
</li>
</ol>
</li>
</ol>
</div>
<div class="section" id="using-ibm-ilog-cplex-optimization-studio-v12-x-on-your-computer">
<h3>Using IBM ILOG CPLEX Optimization Studio V12.x on your computer<a class="headerlink" href="#using-ibm-ilog-cplex-optimization-studio-v12-x-on-your-computer" title="Permalink to this headline">&para;</a></h3>
<p>If you have IBM ILOG CPLEX Optimization Studio V12.x installed, you need to add
<code class="docutils literal"><span class="pre">&lt;cosdir&gt;/&lt;cplexdir&gt;/python/&lt;python_version&gt;/&lt;platform&gt;</span></code> to your <code class="docutils literal"><span class="pre">PYTHONPATH</span></code>.</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">&lt;cosdir&gt;</span></code> is your CPLEX Optimization Studio installation directory.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">&lt;cplexdir&gt;</span></code> is your CPLEX installation directory.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">&lt;python_version&gt;</span></code> is:</p>
<blockquote>
<div><ul class="simple">
<li>2.7 if your Python version is 2.7</li>
<li>3.4 if your Python version is 3.4</li>
<li>3.5 if your Python version is 3.5</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">&lt;platform&gt;</span></code> is:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">x64_win64</span></code> if your operating system is Windows</li>
<li><code class="docutils literal"><span class="pre">x86-64_linux</span></code> if your operating system is Linux</li>
<li><code class="docutils literal"><span class="pre">x86-64_osx</span></code> if your operating system is OS X</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Note that if CPLEX is in the <code class="docutils literal"><span class="pre">PYTHONPATH</span></code>, then it overrides the DOcplexcloud credentials and solves locally,
unless you use <code class="docutils literal"><span class="pre">docloud</span></code> as a solver agent. You change the solver agent by passing the <code class="docutils literal"><span class="pre">agent</span></code> parameter to
the <code class="docutils literal"><span class="pre">solve</span></code> method of a model, or setting the <code class="docutils literal"><span class="pre">context.solver.agent</span></code> property.</p>
<p>To enable local solving with constraint programming, create a Python file
<cite>cpo_config.py</cite> somewhere that is visible from the <cite>PYTHONPATH</cite>,
and add the following line:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">set_default</span><span class="p">(</span><span class="n">LOCAL_CONTEXT</span><span class="p">)</span>
</pre></div>
</div>
<p>Details for setting up the local solver for Constraint Programming are available
in section <a class="reference external" href="../cp/creating_model.html#cloud-or-local-solving">Constraint programming: Cloud or Local Solving</a>.</p>
<div class="section" id="more-information-about-the-docplexcloud-solver-service-and-cplex-engines">
<h4>More information about the DOcplexcloud solver service and CPLEX engines<a class="headerlink" href="#more-information-about-the-docplexcloud-solver-service-and-cplex-engines" title="Permalink to this headline">&para;</a></h4>
<p>You can read more about
<a class="reference external" href="https://onboarding-oaas.docloud.ibmcloud.com/software/analytics/docloud">IBM Decision Optimization on Cloud (DOcplexcloud)</a> and
its free trial version <a class="reference external" href="https://developer.ibm.com/docloud/try-docloud-free">trial version</a>.</p>
<p>You can read more about
<a class="reference external" href="http://www-03.ibm.com/software/products/category/prescriptive-analytics">IBM ILOG CPLEX Optimization Studio</a>
and its free <a class="reference external" href="http://www-01.ibm.com/software/websphere/products/optimization/cplex-studio-community-edition">Community Edition</a>.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">IBM&reg; Decision Optimization CPLEX&reg; Modeling for Python (DOcplex) V2.4 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, IBM&reg;.
    </div>
  </body>
</html>