

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Setting up an optimization engine &#8212; IBM&reg; Decision Optimization CPLEX&reg; Modeling for Python (DOcplex) V2.15 documentation</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">IBM&reg; Decision Optimization CPLEX&reg; Modeling for Python (DOcplex) V2.15 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Setting up an optimization engine</a><ul>
<li><a class="reference internal" href="#get-ibmreg-optimizers">Get IBM&reg; optimizers</a></li>
<li><a class="reference internal" href="#engine-setup">Engine setup</a><ul>
<li><a class="reference internal" href="#using-ibm-ilog-cplex-optimization-studio-on-your-computer">Using IBM ILOG CPLEX Optimization Studio on your computer</a></li>
<li><a class="reference internal" href="#installing-ibm-ilog-cplex-optimization-ce">Installing IBM ILOG CPLEX Optimization CE</a><ul>
<li><a class="reference internal" href="#installing-ibm-ilog-cplex-optimization-library-with-pip">Installing IBM ILOG CPLEX Optimization library with pip</a></li>
<li><a class="reference internal" href="#installing-the-ibm-ilog-cplex-optimization-library-with-conda-install-packager">Installing the IBM ILOG CPLEX Optimization library with conda install packager</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-the-ibm-decision-optimization-on-cloud-service">Using the IBM Decision Optimization on Cloud service</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="setting-up-an-optimization-engine">
<h1>Setting up an optimization engine<a class="headerlink" href="#setting-up-an-optimization-engine" title="Permalink to this headline">&para;</a></h1>
<div class="section" id="get-ibmreg-optimizers">
<h2>Get IBM&reg; optimizers<a class="headerlink" href="#get-ibmreg-optimizers" title="Permalink to this headline">&para;</a></h2>
<ul class="simple">
<li>Mathematical programming (MP) and Constraint programming (CP) models can be
solved either with CPLEX&reg; on the Cloud (DOcplexcloud) or with a local
CPLEX installation (CPLEX Optimization Studio V12.8.0 or higher). Additionnaly,
you can use docplex in <a href="#id1"><span class="problematic" id="id2">`IBM Watson Studio Cloud&lt;https://www.ibm.com/cloud/watson-studio/&gt;`__</span></a>.</li>
<li>You have different options to get the solving capability you need:<ul>
<li><a class="reference external" href="https://www.ibm.com/cloud/watson-studio/">IBM Watson Studio Cloud</a> is an IBM
service that provides a hosted notebook service in the cloud.
Sign up for a <a class="reference external" href="https://dataplatform.cloud.ibm.com/registration/stepone?context=wdp&amp;apps=all">free IBM Cloud account</a>
and you&#8217;ll find many Decision Optimization Notebooks already available in Watson Studio Cloud.</li>
<li><b>IBM ILOG&reg; CPLEX Optimization Studio</b> Development or Deployment edition for solving with no engine limit or
the Community Edition with engine limits. You can download the full CPLEX Community Edition
<a class="reference external" href="https://www.ibm.com/account/reg/signup?formid=urx-20028">here</a> or
you can download and install it from AnacondaCloud <a class="reference external" href="https://anaconda.org/IBMDecisionOptimization/cplex">here</a>.</li>
<li><strong>IBM Academic Initiative</strong> for faculty members, research professionals: IBM Academic Initiative (AI) is a global program that faculty members,
research professionals at accredited institutions, and qualifying members of standards organizations can join.  Members can get <strong>full versions</strong> of a
large selection of IBM software, including CPLEX at no charge. More information about IBM ILOG Optimization products in the IBM Academic Initiative can
be found <a class="reference external" href="https://developer.ibm.com/academic/">here</a>.</li>
<li>An <strong>IBM Decision Optimization on Cloud</strong> Service account and API key. You can
register for a 30-day free trial or buy a subscription
<a class="reference external" href="https://developer.ibm.com/docloud/try-docloud-free">here</a>.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="engine-setup">
<h2>Engine setup<a class="headerlink" href="#engine-setup" title="Permalink to this headline">&para;</a></h2>
<p>Before you run the examples, you need to set up an optimization engine. The
examples are written so that they use the IBM ILOG CPLEX Optimization Studio on
your computer if the product is installed.</p>
<p>If you do not have CPLEX Studio on your computer, you can install IBM ILOG
CPLEX Community edition library for free.</p>
<p>Ultimately, you can use the IBM Decision Optimization on Cloud service to
solve your models.</p>
<div class="section" id="using-ibm-ilog-cplex-optimization-studio-on-your-computer">
<h3>Using IBM ILOG CPLEX Optimization Studio on your computer<a class="headerlink" href="#using-ibm-ilog-cplex-optimization-studio-on-your-computer" title="Permalink to this headline">&para;</a></h3>
<p>If you have IBM ILOG CPLEX Optimization Studio V12.8.0 or higher installed, you need to add
<code class="docutils literal notranslate"><span class="pre">&lt;cosdir&gt;/&lt;cplexdir&gt;/python/&lt;python_version&gt;/&lt;platform&gt;</span></code> to your <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code>.</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">&lt;cosdir&gt;</span></code> is your CPLEX Optimization Studio installation directory.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">&lt;cplexdir&gt;</span></code> is your CPLEX installation directory.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">&lt;python_version&gt;</span></code> is:</p>
<blockquote>
<div><ul class="simple">
<li>2.7 if your Python version is 2.7</li>
<li>3.6 if your Python version is 3.6</li>
<li>3.7 if your Python version is 3.7</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">&lt;platform&gt;</span></code> is:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">x64_win64</span></code> if your operating system is Windows</li>
<li><code class="docutils literal notranslate"><span class="pre">x86-64_linux</span></code> if your operating system is Linux</li>
<li><code class="docutils literal notranslate"><span class="pre">x86-64_osx</span></code> if your operating system is OS X</li>
<li><code class="docutils literal notranslate"><span class="pre">ppc64le_linux</span></code> if your operating system is Power Linux</li>
<li><code class="docutils literal notranslate"><span class="pre">power7-64_aix</span></code> if your operating system is AIX</li>
<li><code class="docutils literal notranslate"><span class="pre">s390x_linux</span></code> if your operating system is Linux on Z</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Note that if CPLEX is in the <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code>, then it overrides the DOcplexcloud credentials and solves locally,
unless you use <code class="docutils literal notranslate"><span class="pre">docloud</span></code> as a solver agent. You change the solver agent by passing the <code class="docutils literal notranslate"><span class="pre">agent</span></code> parameter to
the <code class="docutils literal notranslate"><span class="pre">solve</span></code> method of a model, or setting the <code class="docutils literal notranslate"><span class="pre">context.solver.agent</span></code> property.</p>
<p>To enable local solving with constraint programming, create a Python file
<cite>cpo_config.py</cite> somewhere that is visible from the <cite>PYTHONPATH</cite>,
and add the following line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">set_default</span><span class="p">(</span><span class="n">LOCAL_CONTEXT</span><span class="p">)</span>
</pre></div>
</div>
<p>Details for setting up the local solver for Constraint Programming are available
in section <a class="reference external" href="../cp/getting_started.html">Constraint programming: Cloud or Local Solving</a>.</p>
</div>
<div class="section" id="installing-ibm-ilog-cplex-optimization-ce">
<h3>Installing IBM ILOG CPLEX Optimization CE<a class="headerlink" href="#installing-ibm-ilog-cplex-optimization-ce" title="Permalink to this headline">&para;</a></h3>
<p>IBM ILOG CPLEX Optimization is available as a free Community Edition. You
can install the python runtimes using <code class="docutils literal notranslate"><span class="pre">pip</span></code> or with <code class="docutils literal notranslate"><span class="pre">conda</span></code>.</p>
<div class="section" id="installing-ibm-ilog-cplex-optimization-library-with-pip">
<h4>Installing IBM ILOG CPLEX Optimization library with pip<a class="headerlink" href="#installing-ibm-ilog-cplex-optimization-library-with-pip" title="Permalink to this headline">&para;</a></h4>
<p>The IBM ILOG CPLEX Optimization library can be
installed via <em>pip</em> from <a class="reference external" href="https://pypi.python.org/pypi/docplex">PyPI</a>.</p>
<p>Use <em>pip</em> to install the library:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">cplex</span>
</pre></div>
</div>
<p><em>pip</em> is the standard tool that is used to install Python packages and is
included in Python 2.7.9 (and later), Python 3.6 (and later), and Python 3.7
(and later). See <a class="reference external" href="https://pip.pypa.io/en/stable/">pip</a> for more details.
Refer to the <em>pip</em> documentation for easy access to the upgrade, uninstall,
and version checking commands.</p>
<p>See <a class="reference internal" href="README.md.html"><span class="doc">README.md</span></a> for a detailed list of dependencies that are
automatically downloaded and installed.</p>
<ul>
<li><p class="first">The Pypi distribution of CPLEX CE is available on the following platforms:</p>
<blockquote>
<div><ul class="simple">
<li>Windows</li>
<li>Linux (x86-64)</li>
<li>OSX</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="installing-the-ibm-ilog-cplex-optimization-library-with-conda-install-packager">
<h4>Installing the IBM ILOG CPLEX Optimization library with conda install packager<a class="headerlink" href="#installing-the-ibm-ilog-cplex-optimization-library-with-conda-install-packager" title="Permalink to this headline">&para;</a></h4>
<p>The IBM ILOG CPLEX Optimization library can be installed via <em>conda</em> from the
<a class="reference external" href="https://anaconda.org/IBMDecisionOptimization/docplex">CPLEX conda home</a>.</p>
<p>First install Anaconda, then use <em>conda</em> to install the modeling library:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">ibmdecisionoptimization</span> <span class="n">cplex</span>
</pre></div>
</div>
<p><em>conda</em> is the package installer that is used to install Python packages and is included in Continuum Anaconda distributions.
Refer to the <em>anaconda</em> documentation for easy access to the upgrade, uninstall, and version checking commands.</p>
<p>When using <cite>conda</cite> commands, you need to specify the <cite>ibmdecisionoptimization</cite>
channel. For instance, to update your already existing installation of docplex
using conda:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">conda</span> <span class="n">update</span> <span class="o">-</span><span class="n">c</span> <span class="n">ibmdecisionoptimization</span> <span class="n">cplex</span>
</pre></div>
</div>
<ul>
<li><p class="first">The conda distribution of CPLEX CE available on the following the platforms:</p>
<blockquote>
<div><ul class="simple">
<li>Windows</li>
<li>Linux (x86-64)</li>
<li>OSX</li>
<li>Linux (linux-ppc64le)</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="using-the-ibm-decision-optimization-on-cloud-service">
<h3>Using the IBM Decision Optimization on Cloud service<a class="headerlink" href="#using-the-ibm-decision-optimization-on-cloud-service" title="Permalink to this headline">&para;</a></h3>
<p>To use the CPLEX or CP Optimizer algorithms on the cloud (<a class="reference external" href="https://developer.ibm.com/docloud">DOcplexcloud</a>), you will need to get 2 things:</p>
<blockquote>
<div><ul class="simple">
<li>the URL of the service to be called</li>
<li>the API key that corresponds to your personal account on this web service.</li>
</ul>
</div></blockquote>
<p>The API key will identify you on the IBM cloud and will also determine your computation rights.
For example, a trial key will enable you to run 1 model at a time and queue a maximum of 5 jobs for a duration of 1 month.
A paid subscription with bare metal will enable you to run multiple jobs in parallel.
This key will also determine the type of CPU and RAM you can access, for example.
You can generate multiple keys.</p>
<p>You can submit a python program to the solve service either using the
DOcplexcloud client API, or using docplex integrated command line interface.</p>
<p>In a terminal window (or command prompt window on windows), the following
command submits the <code class="docutils literal notranslate"><span class="pre">diet.py</span></code> program to the cloud (replace your url and
key with the appropriate values):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -m docplex.cli -url https://your_service_url.ibm.com/ --key your_api_key execute diet.py
Model: diet
 - number of variables: 9
   - binary=0, integer=0, continuous=9
 - number of constraints: 7
   - linear=7
 - parameters: defaults
* model solved as function:
objective: 2.690
  &quot;q_Hotdog&quot;=0.930
  &quot;q_Spaghetti W/ Sauce&quot;=2.155
  &quot;q_Chocolate Chip Cookies&quot;=10.000
  &quot;q_Lowfat Milk&quot;=1.831
*  KPI: Total Calories      = 2000.000
*  KPI: Total Calcium       = 800.000
*  KPI: Total Iron          = 11.278
*  KPI: Total Vit_A         = 8518.433
*  KPI: Total Dietary_Fiber = 25.000
*  KPI: Total Carbohydrates = 256.806
*  KPI: Total Protein       = 51.174
</pre></div>
</div>
<p>You can read more about
<a class="reference external" href="https://onboarding-oaas.docloud.ibmcloud.com/software/analytics/docloud">IBM Decision Optimization on Cloud (DOcplexcloud)</a> and
its free trial version <a class="reference external" href="https://developer.ibm.com/docloud/try-docloud-free">trial version</a>.</p>
<p>You can read more about
<a class="reference external" href="http://www-03.ibm.com/software/products/category/prescriptive-analytics">IBM ILOG CPLEX Optimization Studio</a>
and its free <a class="reference external" href="https://www.ibm.com/account/reg/signup?formid=urx-20028">Community Edition</a>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">IBM&reg; Decision Optimization CPLEX&reg; Modeling for Python (DOcplex) V2.15 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016-2020, IBM&reg;.
    </div>
  </body>
</html>