

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    
    <title>docplex.mp.conflict_refiner module &#8212; DOcplex.MP: Mathematical Programming Modeling for Python V2.6 documentation</title>
    
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'V2.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="docplex.mp.constants module" href="docplex.mp.constants.html" />
    <link rel="prev" title="docplex.mp.callbacks.hook_callback module" href="docplex.mp.callbacks.hook_callback.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="docplex.mp.constants.html" title="docplex.mp.constants module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="docplex.mp.callbacks.hook_callback.html" title="docplex.mp.callbacks.hook_callback module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DOcplex.MP: Mathematical Programming Modeling for Python V2.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="refman.html" accesskey="U"><strong>docplex.mp</strong> reference manual</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="docplex.mp.callbacks.hook_callback.html"
                        title="previous chapter">docplex.mp.callbacks.hook_callback module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="docplex.mp.constants.html"
                        title="next chapter">docplex.mp.constants module</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="docplex-mp-conflict-refiner-module">
<h1>docplex.mp.conflict_refiner module<a class="headerlink" href="#docplex-mp-conflict-refiner-module" title="Permalink to this headline">&para;</a></h1>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-docplex.mp.conflict_refiner"></span><dl class="class">
<dt id="docplex.mp.conflict_refiner.ConflictRefiner">
<em class="property">class </em><code class="descclassname">docplex.mp.conflict_refiner.</code><code class="descname">ConflictRefiner</code><a class="reference internal" href="_modules/docplex/mp/conflict_refiner.html#ConflictRefiner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#docplex.mp.conflict_refiner.ConflictRefiner" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class is an abstract algorithm; it operates on interfaces.</p>
<p>A conflict is a set of mutually contradictory constraints and bounds within a model.
Given an infeasible model, the conflict refiner can identify conflicting constraints and bounds
within it. CPLEX refines an infeasible model by examining elements that can be removed from the
conflict to arrive at a minimal conflict.</p>
<dl class="staticmethod">
<dt id="docplex.mp.conflict_refiner.ConflictRefiner.display_conflicts">
<em class="property">static </em><code class="descname">display_conflicts</code><span class="sig-paren">(</span><em>conflicts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/mp/conflict_refiner.html#ConflictRefiner.display_conflicts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#docplex.mp.conflict_refiner.ConflictRefiner.display_conflicts" title="Permalink to this definition">&para;</a></dt>
<dd><p>This method displays a formatted representation of the conflicts that are provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>conflicts</strong> &#8211; A list of <code class="docutils literal"><span class="pre">TConflictConstraint</span></code> namedtuples, one that was returned
by the <cite>refine_conflict()</cite> method.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="docplex.mp.conflict_refiner.ConflictRefiner.refine_conflict">
<code class="descname">refine_conflict</code><span class="sig-paren">(</span><em>mdl</em>, <em>preferences=None</em>, <em>groups=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/mp/conflict_refiner.html#ConflictRefiner.refine_conflict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#docplex.mp.conflict_refiner.ConflictRefiner.refine_conflict" title="Permalink to this definition">&para;</a></dt>
<dd><p>Starts the conflict refiner on the model.</p>
<p>If CPLEX is available, the conflict refinement operation will be performed using the native CPLEX.
If CPLEX is not available, the conflict refinement operation will be started on DOcplexcloud.
The DOcplexcloud connection parameters are checked in the following order:</p>
<blockquote>
<div><ul class="simple">
<li>If <code class="docutils literal"><span class="pre">kwargs</span></code> contains valid <code class="docutils literal"><span class="pre">url</span></code> and <code class="docutils literal"><span class="pre">key</span></code> values, they are used.</li>
<li>If <code class="docutils literal"><span class="pre">kwargs</span></code> contains a <code class="docutils literal"><span class="pre">context</span></code> and that context contains a
valid <code class="docutils literal"><span class="pre">solver.docloud.url</span></code> and <code class="docutils literal"><span class="pre">solver.docloud.key</span></code> values,
those values are used. Other attributes of <code class="docutils literal"><span class="pre">solver.docloud</span></code>
can also be used. See <a class="reference internal" href="docplex.mp.context.html#docplex.mp.context.Context" title="docplex.mp.context.Context"><code class="xref py py-class docutils literal"><span class="pre">docplex.mp.context.Context</span></code></a>.</li>
<li>Finally, the model&#8217;s attribute <code class="docutils literal"><span class="pre">context</span></code> is used. This <code class="docutils literal"><span class="pre">context</span></code>
is set at model creation time.</li>
</ul>
</div></blockquote>
<p>If CPLEX is not available and the model has no valid credentials, an error is raised, because there is
no way to perform the conflict refinement.</p>
<p>Note that if the <code class="docutils literal"><span class="pre">url</span></code> and <code class="docutils literal"><span class="pre">key</span></code> parameters are present and the
values of the parameters are not in the ignored url or key list,
the conflict refinement operation will be started on DOcplexcloud even if CPLEX is
available.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># forces the conflict refiner on DOcplexcloud with the specified url and keys</span>
<span class="n">crefiner</span><span class="o">.</span><span class="n">refine_conflict</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://foo.com&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># set some DOcplexcloud credentials, but depend on another</span>
<span class="c1"># method to decide if conflict refiner is local or not</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">docloud</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://foo.com&#39;</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">docloud</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
<span class="n">agent</span> <span class="o">=</span> <span class="s1">&#39;local&#39;</span> <span class="k">if</span> <span class="n">method_that_decides_if_solve_is_local</span><span class="p">()</span> <span class="ow">or</span> <span class="s1">&#39;docloud&#39;</span>
<span class="n">crefiner</span><span class="o">.</span><span class="n">conflict_refiner</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">ctx</span><span class="p">,</span> <span class="n">agent</span><span class="o">=</span><span class="n">agent</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mdl</strong> &#8211; The model to be relaxed.</li>
<li><strong>preferences</strong> &#8211; A dictionary defining constraint preferences.</li>
<li><strong>groups</strong> &#8211; A list of ConstraintsGroups.</li>
<li><strong>kwargs</strong> &#8211; Accepts named arguments similar to solve.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>A list of <code class="docutils literal"><span class="pre">TConflictConstraint</span></code> namedtuples, each tuple corresponding to a constraint that is
involved in the conflict.
The fields of the <code class="docutils literal"><span class="pre">TConflictConstraint</span></code> namedtuple are:</p>
<blockquote>
<div><ul class="simple">
<li>the name of the constraint or None if the constraint corresponds to a variable lower or upper bound.</li>
<li>a reference to the constraint or to a wrapper representing a Var upper or lower bound.</li>
<li>a <code class="docutils literal"><span class="pre">docplex.mp.constants.ConflictStatus</span></code> object that indicates the
conflict status type (Excluded, Possible_member, Member...).</li>
</ul>
</div></blockquote>
<p>This list is empty if no conflict is found by the conflict refiner.</p>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="docplex.mp.conflict_refiner.ConstraintsGroup">
<em class="property">class </em><code class="descclassname">docplex.mp.conflict_refiner.</code><code class="descname">ConstraintsGroup</code><span class="sig-paren">(</span><em>preference=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/mp/conflict_refiner.html#ConstraintsGroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#docplex.mp.conflict_refiner.ConstraintsGroup" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class is a container for the definition of a group of constraints.
A preference for conflict refinement is associated to the group.</p>
<p>Groups may be assigned preference. A group with a higher preference is more likely to be included in the conflict.
A negative value specifies that the corresponding group should not be considered in the computation
of a conflict. In other words, such groups are not considered part of the model. Groups with a preference of 0 (zero)
are always considered to be part of the conflict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>preference</strong> &#8211; A floating-point number that specifies the preference for the group. The higher the number, the
higher the preference.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="docplex.mp.conflict_refiner.TConflictConstraint">
<code class="descclassname">docplex.mp.conflict_refiner.</code><code class="descname">TConflictConstraint</code><a class="headerlink" href="#docplex.mp.conflict_refiner.TConflictConstraint" title="Permalink to this definition">&para;</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">_TConflictConstraint</span></code></p>
</dd></dl>

<dl class="class">
<dt id="docplex.mp.conflict_refiner.VarLbConstraintWrapper">
<em class="property">class </em><code class="descclassname">docplex.mp.conflict_refiner.</code><code class="descname">VarLbConstraintWrapper</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/mp/conflict_refiner.html#VarLbConstraintWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#docplex.mp.conflict_refiner.VarLbConstraintWrapper" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class is a wrapper for a model variable and its associated lower bound.</p>
<p>Instances of this class are created by the <code class="docutils literal"><span class="pre">refine_conflict</span></code> method when the conflict involves
a variable lower bound. Each of these instances is then referenced by a <code class="docutils literal"><span class="pre">TConflictConstraint</span></code> namedtuple
in the conflict list returned by <code class="docutils literal"><span class="pre">refine_conflict</span></code>.</p>
<p>To check whether the lower bound of a variable causes a conflict, wrap the variable and
include the resulting constraint in a ConstraintsGroup.</p>
</dd></dl>

<dl class="class">
<dt id="docplex.mp.conflict_refiner.VarUbConstraintWrapper">
<em class="property">class </em><code class="descclassname">docplex.mp.conflict_refiner.</code><code class="descname">VarUbConstraintWrapper</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/mp/conflict_refiner.html#VarUbConstraintWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#docplex.mp.conflict_refiner.VarUbConstraintWrapper" title="Permalink to this definition">&para;</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class is a wrapper for a model variable and its associated upper bound.</p>
<p>Instances of this class are created by the <code class="docutils literal"><span class="pre">refine_conflict</span></code> method when the conflict involves
a variable upper bound. Each of these instances is then referenced by a <code class="docutils literal"><span class="pre">TConflictConstraint</span></code> namedtuple
in the conflict list returned by <code class="docutils literal"><span class="pre">refine_conflict</span></code>.</p>
<p>To check whether the upper bound of a variable causes a conflict, wrap the variable and
include the resulting constraint in a ConstraintsGroup.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="docplex.mp.constants.html" title="docplex.mp.constants module"
             >next</a> |</li>
        <li class="right" >
          <a href="docplex.mp.callbacks.hook_callback.html" title="docplex.mp.callbacks.hook_callback module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DOcplex.MP: Mathematical Programming Modeling for Python V2.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="refman.html" ><strong>docplex.mp</strong> reference manual</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016-2018, IBM&reg;.
    </div>
  </body>
</html>