<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    
    <title>Module docplex.cp.config &mdash; DOcplex.CP: Constraint Programming Modeling for Python V2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'V2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="DOcplex.CP: Constraint Programming Modeling for Python V2.0 documentation" href="index.html" />
    <link rel="up" title="docplex.cp reference manual" href="refman.html" />
    <link rel="next" title="Module docplex.cp.solver.solver" href="docplex.cp.solver.solver.py.html" />
    <link rel="prev" title="Module docplex.cp.solution" href="docplex.cp.solution.py.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="docplex.cp.solver.solver.py.html" title="Module docplex.cp.solver.solver"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="docplex.cp.solution.py.html" title="Module docplex.cp.solution"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DOcplex.CP: Constraint Programming Modeling for Python V2.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="refman.html" accesskey="U"><strong>docplex.cp</strong> reference manual</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-docplex-cp-config">
<h1>Module <strong>docplex.cp.config</strong><a class="headerlink" href="#module-docplex-cp-config" title="Permalink to this headline">&para;</a></h1>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<span class="target" id="module-docplex.cp.config"></span><p>Configuration of the CP Optimizer Python API</p>
<p>This module is the top-level handler of the configuration parameters for
the CP Optimizer Python API. It contains the default values of the different
configuration parameters.</p>
<p>It should NOT be changed directly.
The preferable way is to add at least one of the following files that contain the changes
to be performed:</p>
<blockquote>
<div><ul class="simple">
<li><em>cpo_config.py</em>, a local set of changes on these parameters,</li>
<li><em>cpo_config_&lt;hostname&gt;.py</em>, a hostname dependent set of changes.</li>
<li><em>docloud_config.py</em> (for DOcloud url and key, file shared with docplex.mp package).</li>
</ul>
</div></blockquote>
<p>Final set of parameters is obtained by reading first this module, and then those
listed above.
These modules should be visible from the <em>PYTHONPATH</em> and are loaded in
this order to overwrite default values.</p>
<p>This module also defines two global variables:</p>
<blockquote>
<div><ul class="simple">
<li><em>DOCLOUD_CONTEXT</em>, that contains the configuration necessary to solve a model on DOcloud.
This context is the context by default, referenced by the global variable &#8216;context&#8217;.</li>
<li><em>LOCAL_CONTEXT</em>, that contains the configuration appropriate to solve a model with a local
installation of the CPO solver.
This configuration is available for solver with version number greater or equal to 12.7.0.</li>
</ul>
</div></blockquote>
<p>The method <a class="reference internal" href="#docplex.cp.config.set_default" title="docplex.cp.config.set_default"><code class="xref py py-meth docutils literal"><span class="pre">set_default()</span></code></a> allows to set the default configuration to one that is predefined,
or another that has been totally customized.</p>
<p>If called as main, this module prints the actual configuration on standard output, including
all customizations made using the mechanism described above.</p>
<p>Following sections describe the most important parameters that can be easily modified to customize
the behavior of the Python API.
All available parameters are available by consulting the source code of this module.</p>
<div class="section" id="general-parameters">
<h2>General parameters<a class="headerlink" href="#general-parameters" title="Permalink to this headline">&para;</a></h2>
<p><em>context.log_output = sys.stdout</em></p>
<blockquote>
<div>This parameter contains the default log stream.
By default it is set to the standard output. A value of <em>None</em> can be used to disable all logs.</div></blockquote>
<p><em>context.model.add_source_location = True</em></p>
<blockquote>
<div>This parameter indicates that when the model is transformed into CPO format, additional information is added
to correlate expressions with the Python file and line where it has been generated.
If any error is raised by the solver during the solve, this information is provided in the
error description, which allows for easier debugging.</div></blockquote>
<p><em>context.model.length_for_alias = 15</em></p>
<blockquote>
<div>This parameter enables the replacement of very long variable names by a shorter alias in the generated CPO format,
allowing to reduce the size of the generated CPO file.
By default, the value is 15. A value of None would indicate to always keep original variable names.</div></blockquote>
<p><em>context.model.name_all_constraints = False</em></p>
<blockquote>
<div>This parameter enables the naming of all constraints when the model is generated in CPO format.
It is mandatory only if the <em>refine conflict</em> function is called.
Anyway, if the <em>refine conflict</em> function is called, and if the CPO format of the model has already been generated,
it is generated again with this option set in order to allow proper completion of the request.
Setting it to <em>True</em> is preferable only if <em>refine conflict</em> function is called on a big model.</div></blockquote>
<p><em>context.model.dump_directory = None</em></p>
<blockquote>
<div><p>This parameter gives the name of a directory where the CPO files that are generated for solving models are stored
for logging purpose.</p>
<p>If not None, the directory is created and generated models are stored in files named <cite>&lt;model_name&gt;.cpo</cite>.</p>
</div></blockquote>
<p><em>context.params.*</em></p>
<blockquote>
<div><p>The parameter <cite>context.params</cite> is an instance of the class <cite>CpoParameters</cite> (in <a class="reference internal" href="docplex.cp.parameters.py.html"><em>parameters.py</em></a>),
which describes all of the public solver parameters as properties and is an extension of the base class <em>Context</em>.</p>
<p>The default configuration limits the solving time to 100 seconds by using following settings:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">context</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">TimeMode</span> <span class="o">=</span> <span class="s2">&quot;ElapsedTime&quot;</span>
<span class="n">context</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">TimeLimit</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="configuration-of-the-model-solving">
<h2>Configuration of the model solving<a class="headerlink" href="#configuration-of-the-model-solving" title="Permalink to this headline">&para;</a></h2>
<p><em>context.solver.trace_cpo = False</em></p>
<blockquote>
<div>This parameter indicates to trace the CPO model that is generated before submitting it for solving.
The model is printed on the <cite>context.log_output stream</cite>, if given.</div></blockquote>
<p><em>context.solver.trace_log = False</em></p>
<blockquote>
<div><p>This parameter indicates to trace the log generated by the solver when solving the CPO model.
The log is printed on the <cite>context.log_output stream</cite>, if given.</p>
<p>The default value of this parameter is False for a solve on the cloud, and True for a local solve.</p>
</div></blockquote>
<p><em>context.solver.add_log_to_solution = True</em></p>
<blockquote>
<div>This parameter indicates to add the solver log content to the solution object.
By default, this parameter is True but it can be set to False if the log is very big or of no interest.</div></blockquote>
<p><em>context.solver.agent = &#8216;docloud&#8217;</em></p>
<blockquote>
<div><p>This parameter specifies the name of the solver agent that is used to solve the model.
The value of this parameter is the name of a child context of <cite>context.solver</cite>, which contains necessary attributes
that allow to create and run the required agent.</p>
<dl class="docutils">
<dt>There are two different agents described in the default configuration file:</dt>
<dd><ul class="first last simple">
<li><cite>docloud</cite>, the default agent, for solving a CPO model using the DOcplexcloud service.</li>
<li><cite>angel</cite>, the agent allowing to solve models locally using the CP Optimizer Interactive coming with
versions of COS greater or equal to 12.7.0.</li>
</ul>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="configuration-of-the-docloud-solving-agent">
<h2>Configuration of the <cite>docloud</cite> solving agent<a class="headerlink" href="#configuration-of-the-docloud-solving-agent" title="Permalink to this headline">&para;</a></h2>
<p><em>context.solver.docloud.url = &#8220;https://api-oaas.docloud.ibmcloud.com/job_manager/rest/v1/&#8221;</em></p>
<blockquote>
<div>This parameter is used to specify the URL of the DOcplexcloud service.</div></blockquote>
<p><em>context.solver.docloud.key = &#8220;&#8216;Set your key in docloud_config.py&#8217;&#8221;</em></p>
<blockquote>
<div><p>This parameter contains the personal key for authorizing access to the DOcplexcloud service.</p>
<p>Access credentials (base URL and access key) can be retrieved after registration from <a class="reference external" href="http://developer.ibm.com/docloud/docs/api-key/">http://developer.ibm.com/docloud/docs/api-key/</a>.</p>
<p>These two parameters can be set in the <em>docloud_config.py</em> file.</p>
</div></blockquote>
<p><em>context.solver.docloud.request_timeout = 30</em></p>
<blockquote>
<div>This parameter contains the maximum time, in seconds, that a response is waited for after a unitary request to DOcplexcloud server.</div></blockquote>
<p><em>context.solver.docloud.result_wait_extra_time = 60</em></p>
<blockquote>
<div>This parameter is a time in seconds added to the expected solve time to compute the total result waiting timeout.</div></blockquote>
<p><em>context.solver.docloud.clean_job_after_solve = True</em></p>
<blockquote>
<div>This parameter indicates whether the job is automatically cleaned after the model is solved.
If not set to True, the model stays on the DOcplexcloud server and is visible from its DropSolve interface.
Note that the server may block future solving requests if there are too many jobs waiting.</div></blockquote>
</div>
<div class="section" id="detailed-description">
<h2>Detailed description<a class="headerlink" href="#detailed-description" title="Permalink to this headline">&para;</a></h2>
<dl class="function">
<dt id="docplex.cp.config.get_default">
<code class="descclassname">docplex.cp.config.</code><code class="descname">get_default</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/cp/config.html#get_default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#docplex.cp.config.get_default" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get the default context</p>
<p>Default context is also accessible with the global variable &#8216;context&#8217; in this module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Current default context</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="docplex.cp.config.set_default">
<code class="descclassname">docplex.cp.config.</code><code class="descname">set_default</code><span class="sig-paren">(</span><em>ctx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docplex/cp/config.html#set_default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#docplex.cp.config.set_default" title="Permalink to this definition">&para;</a></dt>
<dd><p>Set the default context.</p>
<p>Default context becomes accessible in the global variable &#8216;context&#8217; in this module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ctx</strong> &#8211; New default context</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Module <strong>docplex.cp.config</strong></a><ul>
<li><a class="reference internal" href="#general-parameters">General parameters</a></li>
<li><a class="reference internal" href="#configuration-of-the-model-solving">Configuration of the model solving</a></li>
<li><a class="reference internal" href="#configuration-of-the-docloud-solving-agent">Configuration of the <cite>docloud</cite> solving agent</a></li>
<li><a class="reference internal" href="#detailed-description">Detailed description</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="docplex.cp.solution.py.html"
                        title="previous chapter">Module <strong>docplex.cp.solution</strong></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="docplex.cp.solver.solver.py.html"
                        title="next chapter">Module <strong>docplex.cp.solver.solver</strong></a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="docplex.cp.solver.solver.py.html" title="Module docplex.cp.solver.solver"
             >next</a> |</li>
        <li class="right" >
          <a href="docplex.cp.solution.py.html" title="Module docplex.cp.solution"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DOcplex.CP: Constraint Programming Modeling for Python V2.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="refman.html" ><strong>docplex.cp</strong> reference manual</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, IBM.
    </div>
  </body>
</html>